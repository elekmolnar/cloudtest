<app-progress-bar *ngIf="isLoading"></app-progress-bar>

<div *ngIf="repositoriesContent" fxLayout="column">
  <mat-card class="result-container" *ngFor="let item of repositoriesContent.items; trackBy: trackId">
    <mat-tab-group headerPosition="below" dynamicHeight>
      <mat-tab label="Repository">
        <ng-template matTabContent>
          <app-repository-details [item]="item"></app-repository-details>
        </ng-template>
      </mat-tab>
      <mat-tab label="Issues">
        <ng-template matTabContent>
          <app-issues-details
            [owner]="item.owner.login"
            [repository]="item.name"
            [id]="item.id"
            [previousIssues]="previousIssues"
            [previousId]="previousId"
            (issuesLoaded)="setIssues($event)"
            (issuesId)="setId($event)"
          ></app-issues-details>
        </ng-template>
      </mat-tab>
      <mat-tab label="Statistics">
        <ng-template matTabContent>
          <app-statistics
            [owner]="item.owner.login"
            [repository]="item.name"
            [repositories]="repositoriesContent"
            [id]="item.id"
            [previousIssues]="previousIssues"
            [previousId]="previousId"
            (issuesLoaded)="setIssues($event)"
            (issuesId)="setId($event)"
          ></app-statistics>
        </ng-template>
      </mat-tab>
    </mat-tab-group>
  </mat-card>
</div>
